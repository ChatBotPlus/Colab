function _0x3bd2(_0x45ae56,_0x573cae){const _0x3f2a1c=_0x3f2a();return _0x3bd2=function(_0x3bd21a,_0x2239e6){_0x3bd21a=_0x3bd21a-0x125;let _0x1a15a1=_0x3f2a1c[_0x3bd21a];return _0x1a15a1;},_0x3bd2(_0x45ae56,_0x573cae);}const _0x12876d=_0x3bd2;(function(_0x5c2bcc,_0x1695bb){const _0x55c920=_0x3bd2,_0x1b2f9f=_0x5c2bcc();while(!![]){try{const _0xf1851=parseInt(_0x55c920(0x166))/0x1+parseInt(_0x55c920(0x169))/0x2*(parseInt(_0x55c920(0x139))/0x3)+-parseInt(_0x55c920(0x16d))/0x4+-parseInt(_0x55c920(0x171))/0x5+-parseInt(_0x55c920(0x16e))/0x6*(parseInt(_0x55c920(0x15a))/0x7)+-parseInt(_0x55c920(0x153))/0x8+parseInt(_0x55c920(0x12a))/0x9;if(_0xf1851===_0x1695bb)break;else _0x1b2f9f['push'](_0x1b2f9f['shift']());}catch(_0x118522){_0x1b2f9f['push'](_0x1b2f9f['shift']());}}}(_0x3f2a,0xd3dff));const config={'WebToken':'sub','FileName':_0x12876d(0x176),'MainData':'','urls':[],'subconverter':_0x12876d(0x15c),'subconfig':_0x12876d(0x165),'subProtocol':'https'};export default{async 'fetch'(_0x1adedb,_0x5e0a99){const _0x8a0f2d=_0x12876d,_0xf2b058=_0x1adedb[_0x8a0f2d(0x127)]['get'](_0x8a0f2d(0x143))?.[_0x8a0f2d(0x134)]()||_0x8a0f2d(0x155),_0x3507a6=new URL(_0x1adedb[_0x8a0f2d(0x154)]),_0x59ef2f=_0x3507a6[_0x8a0f2d(0x16c)][_0x8a0f2d(0x14c)](_0x8a0f2d(0x144));config[_0x8a0f2d(0x13e)]=_0x5e0a99[_0x8a0f2d(0x158)]||config['WebToken'],config[_0x8a0f2d(0x167)]=_0x5e0a99[_0x8a0f2d(0x13c)]||config[_0x8a0f2d(0x167)],config[_0x8a0f2d(0x135)]=_0x5e0a99[_0x8a0f2d(0x15f)]||config[_0x8a0f2d(0x135)],config[_0x8a0f2d(0x174)]=_0x5e0a99[_0x8a0f2d(0x132)]||config[_0x8a0f2d(0x174)],config[_0x8a0f2d(0x164)]=_0x5e0a99[_0x8a0f2d(0x126)]||config[_0x8a0f2d(0x164)];if(_0x5e0a99[_0x8a0f2d(0x173)])config[_0x8a0f2d(0x16a)]=await addLinks(_0x5e0a99[_0x8a0f2d(0x173)]);await fetchAndDecryptData();const _0x410c4a=new Date();_0x410c4a['setHours'](0x0,0x0,0x0,0x0);const _0x2d54bb=await MD5MD5(''+config[_0x8a0f2d(0x13e)]+Math[_0x8a0f2d(0x16b)](_0x410c4a['getTime']()/0x3e8));let _0x53643f=await addLinks(config[_0x8a0f2d(0x164)]+'\x0a'+config[_0x8a0f2d(0x16a)][_0x8a0f2d(0x157)]('\x0a')),_0x196503='',_0xc08f26='';_0x53643f['forEach'](_0x5cb523=>_0x5cb523[_0x8a0f2d(0x134)]()['startsWith'](_0x8a0f2d(0x133))?_0xc08f26+=_0x5cb523+'\x0a':_0x196503+=_0x5cb523+'\x0a'),config['MainData']=_0x196503,config[_0x8a0f2d(0x16a)]=await addLinks(_0xc08f26);if(![config[_0x8a0f2d(0x13e)],_0x2d54bb][_0x8a0f2d(0x12b)](_0x59ef2f)&&!_0x3507a6[_0x8a0f2d(0x145)][_0x8a0f2d(0x12b)]('/'+config['WebToken']))return new Response(await forbiddenPage(),{'status':0xc8,'headers':{'Content-Type':_0x8a0f2d(0x170)}});const _0x475cd0=determineSubscriptionFormat(_0xf2b058,_0x3507a6);let _0x25b5d2=_0x3507a6[_0x8a0f2d(0x125)]+'/'+await MD5MD5(_0x2d54bb)+_0x8a0f2d(0x142)+_0x2d54bb,_0x5da7d7=config[_0x8a0f2d(0x164)]+(await getSubscription(config[_0x8a0f2d(0x16a)],'v2rayn',_0x1adedb[_0x8a0f2d(0x127)]['get'](_0x8a0f2d(0x143))))[0x0][_0x8a0f2d(0x157)]('\x0a');_0x25b5d2+='|'+(await getSubscription(config[_0x8a0f2d(0x16a)],_0x8a0f2d(0x128),_0x1adedb[_0x8a0f2d(0x127)]['get']('User-Agent')))[0x1];if(_0x5e0a99[_0x8a0f2d(0x131)])_0x25b5d2+='|'+(await addLinks(_0x5e0a99[_0x8a0f2d(0x131)]))[_0x8a0f2d(0x157)]('|');const _0x32b299=btoa(_0x5da7d7);if(_0x475cd0==='base64'||_0x59ef2f===_0x2d54bb)return new Response(_0x32b299,{'headers':{'content-type':_0x8a0f2d(0x12e)}});try{const _0x50911b=await fetch(buildSubconverterUrl(_0x475cd0,_0x25b5d2));if(!_0x50911b['ok'])throw new Error();let _0x1f48dc=await _0x50911b[_0x8a0f2d(0x156)]();if(_0x475cd0===_0x8a0f2d(0x12d))_0x1f48dc=await clashFix(_0x1f48dc);return new Response(_0x1f48dc,{'headers':{'Content-Disposition':_0x8a0f2d(0x14e)+encodeURIComponent(config['FileName'])+_0x8a0f2d(0x15e)+config[_0x8a0f2d(0x174)],'content-type':'text/plain;\x20charset=utf-8'}});}catch{return new Response(_0x32b299,{'headers':{'content-type':_0x8a0f2d(0x12e)}});}}};function _0x3f2a(){const _0x50e005=['name:\x20','9223584mhuGUC','url','null','text','join','TOKEN','status','1039605WuCmts','://','SUBAPI.fxxk.dedyn.io','trim',';\x20filename=','SUBCONFIG','encode','65151f8d966bf596','password','sing-box','MainData','https://raw.githubusercontent.com/cmliu/ACL4SSR/main/Clash/config/ACL4SSR_Online_MultiCountry.ini','968168rYAOUd','subconverter','1.3.1','273982zGAjIk','urls','ceil','searchParams','992684bftxAi','6MxSgcQ','base64','text/html;\x20charset=UTF-8','7483335GjSqMZ','toString','LINKSUB','FileName','replace','Colab','aes-256-cfb:','origin','LINK','headers','v2rayn','from','21582072XhdGMf','includes','decrypt','clash','text/plain;\x20charset=utf-8','startsWith','subtle','WARP','SUBNAME','http','toLowerCase','subconfig','reduce','data','port','12wNeQEf','raw','title','SUBAPI','surge','WebToken','digest','filter','\x20\x20-\x20name:\x20','?token=','User-Agent','token','pathname','application/x-www-form-urlencoded','has','parse','push','https://web.enkelte.ggff.net/api/serverlist','singbox','get','88ca0f0ea1ecf975','attachment;\x20filename*=utf-8\x27\x27','map','split','MD5'];_0x3f2a=function(){return _0x50e005;};return _0x3f2a();}async function fetchAndDecryptData(){const _0x5d8c2b=_0x12876d,_0x18c38b=_0x5d8c2b(0x14a),_0x572d86={'accept':'/','appversion':_0x5d8c2b(0x168),'user-agent':'SkrKK/1.3.1','content-type':_0x5d8c2b(0x146)},_0x365417=new TextEncoder()['encode'](_0x5d8c2b(0x161)),_0x1514e9=new TextEncoder()[_0x5d8c2b(0x160)](_0x5d8c2b(0x14d));try{const _0x422981=await(await fetch(_0x18c38b,{'headers':_0x572d86}))[_0x5d8c2b(0x156)](),_0x40a0ba=await aes128cbcDecrypt(_0x422981,_0x365417,_0x1514e9),_0xfe6615=JSON[_0x5d8c2b(0x148)](_0x40a0ba['match'](/({.*})/)[0x0])[_0x5d8c2b(0x137)];config[_0x5d8c2b(0x164)]=_0xfe6615['map'](_0x59e8de=>'ss://'+btoa(_0x5d8c2b(0x177)+_0x59e8de[_0x5d8c2b(0x162)])+'@'+_0x59e8de['ip']+':'+_0x59e8de[_0x5d8c2b(0x138)]+'#'+encodeURIComponent(_0x59e8de[_0x5d8c2b(0x13b)]||'未命名'))['join']('\x0a');}catch(_0x88b367){throw new Error('Error\x20fetching\x20or\x20decrypting\x20data:\x20'+_0x88b367['message']);}}function determineSubscriptionFormat(_0x1072ae,_0x1aeb68){const _0x361c0c=_0x12876d;if(_0x1072ae[_0x361c0c(0x12b)](_0x361c0c(0x155))||_0x1072ae[_0x361c0c(0x12b)](_0x361c0c(0x167)))return _0x361c0c(0x16f);if(_0x1072ae[_0x361c0c(0x12b)]('clash')||_0x1aeb68['searchParams']['has'](_0x361c0c(0x12d)))return _0x361c0c(0x12d);if(_0x1072ae[_0x361c0c(0x12b)](_0x361c0c(0x163))||_0x1aeb68[_0x361c0c(0x16c)][_0x361c0c(0x147)]('sb')||_0x1aeb68[_0x361c0c(0x16c)][_0x361c0c(0x147)](_0x361c0c(0x14b)))return'singbox';if(_0x1072ae[_0x361c0c(0x12b)](_0x361c0c(0x13d))||_0x1aeb68[_0x361c0c(0x16c)][_0x361c0c(0x147)](_0x361c0c(0x13d)))return _0x361c0c(0x13d);return'base64';}function buildSubconverterUrl(_0x257be1,_0x1043ec){const _0x5574b5=_0x12876d;return config['subProtocol']+_0x5574b5(0x15b)+config[_0x5574b5(0x167)]+'/sub?target='+_0x257be1+'&url='+encodeURIComponent(_0x1043ec)+'&config='+encodeURIComponent(config['subconfig']);}async function addLinks(_0x291eb3){const _0x1d6b05=_0x12876d;return _0x291eb3[_0x1d6b05(0x150)]('\x0a')[_0x1d6b05(0x140)](_0x543886=>_0x543886[_0x1d6b05(0x15d)]()!=='');}async function getSubscription(_0x41bb9d,_0xa3d794,_0x48d57d){const _0x2b63e5=_0x12876d,_0x224a6c={'User-Agent':_0x48d57d||_0xa3d794};let _0x29ed6e=[],_0x299dda=[];for(const _0x5cc08f of _0x41bb9d){try{const _0x2fc52e=await fetch(_0x5cc08f,{'headers':_0x224a6c});_0x2fc52e[_0x2b63e5(0x159)]===0xc8?_0x29ed6e[_0x2b63e5(0x149)]((await _0x2fc52e[_0x2b63e5(0x156)]())[_0x2b63e5(0x150)]('\x0a')):_0x299dda['push'](_0x5cc08f);}catch{_0x299dda[_0x2b63e5(0x149)](_0x5cc08f);}}return[_0x29ed6e['flat'](),_0x299dda];}async function clashFix(_0x89c651){const _0x107088=_0x12876d;return _0x89c651[_0x107088(0x150)]('\x0a')[_0x107088(0x136)]((_0x47e4e6,_0x57b645)=>{const _0x53b60f=_0x107088;if(_0x57b645[_0x53b60f(0x12f)](_0x53b60f(0x141)))_0x47e4e6+=_0x53b60f(0x141)+_0x57b645[_0x53b60f(0x150)](_0x53b60f(0x152))[0x1]+'\x0a';else _0x47e4e6+=_0x57b645+'\x0a';return _0x47e4e6;},'');}async function forbiddenPage(){return'<!DOCTYPE\x20html><html><head><title>403\x20Forbidden</title></head><body><h1>403\x20Forbidden</h1><p>Access\x20Denied</p></body></html>';}async function MD5MD5(_0x3adb15){const _0x57b4dd=_0x12876d,_0x32a05d=new TextEncoder()['encode'](_0x3adb15),_0x3b2854=await crypto[_0x57b4dd(0x130)][_0x57b4dd(0x13f)](_0x57b4dd(0x151),await crypto[_0x57b4dd(0x130)][_0x57b4dd(0x13f)](_0x57b4dd(0x151),_0x32a05d));return Array[_0x57b4dd(0x129)](new Uint8Array(_0x3b2854))[_0x57b4dd(0x14f)](_0x2bd151=>_0x2bd151[_0x57b4dd(0x172)](0x10)['padStart'](0x2,'0'))[_0x57b4dd(0x157)]('');}async function aes128cbcDecrypt(_0x6a719,_0x8a927f,_0x5802b7){const _0x4a6196=_0x12876d,_0x46081b=hexStringToUint8Array(_0x6a719),_0x565058={'name':'AES-CBC','iv':_0x5802b7},_0xe84b48=await crypto[_0x4a6196(0x130)]['importKey'](_0x4a6196(0x13a),_0x8a927f,_0x565058,![],[_0x4a6196(0x12c)]);try{const _0x1fc6e4=await crypto[_0x4a6196(0x130)][_0x4a6196(0x12c)](_0x565058,_0xe84b48,_0x46081b);return new TextDecoder()['decode'](_0x1fc6e4)[_0x4a6196(0x175)](/\0+$/,'');}catch{throw new Error('Decryption\x20failed');}}function hexStringToUint8Array(_0x434554){const _0x39530c=_0x12876d;return new Uint8Array(_0x434554['match'](/.{1,2}/g)[_0x39530c(0x14f)](_0x366fdf=>parseInt(_0x366fdf,0x10)));}
